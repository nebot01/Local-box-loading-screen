<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Local-Box Loading</title>
    <style>
        /* --- 1. ОСНОВНОЙ ФОН --- */
        body {
            margin: 0;
            padding: 0;
            background: radial-gradient(circle at center, #2b0000 0%, #050505 80%);
            background-color: #050505;
            color: #fff;
            font-family: 'Tahoma', 'Verdana', sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            user-select: none;
            position: relative;
        }

        /* --- 2. КОНТЕЙНЕР --- */
        .container {
            width: 700px;
            position: relative;
            z-index: 10;
            text-align: center;
        }

        /* --- 3. ЛОГОТИП --- */
        .logo-img {
            width: 130px;
            height: 130px;
            object-fit: cover;
            border-radius: 0px; 
            border: 3px solid rgb(235, 54, 54);
            box-shadow: 0 0 30px rgba(235, 54, 54, 0.4); 
            margin-bottom: 20px;
        }

        /* --- 4. НАЗВАНИЕ --- */
        h1.title {
            font-size: 4em;
            margin: 0 0 30px 0;
            text-transform: uppercase;
            letter-spacing: 4px;
            line-height: 1;
        }

        .text-local {
            color: rgb(235, 54, 54);
            text-shadow: 0 0 15px rgba(235, 54, 54, 0.8);
        }

        .text-box {
            color: rgb(255, 255, 255);
            text-shadow: 0 0 15px rgba(235, 54, 54, 0.3);
            position: relative; 
            display: inline-block;
        }

        /* --- ШАПКА САНТЫ --- */
        .santa-hat {
            position: absolute;
            top: -45px;
            right: -15px;
            width: 70px;
            height: auto;
            transform: rotate(15deg);
            z-index: 15;
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.5));
        }

        /* --- ПАДАЮЩИЙ СНЕГ (ЭМОДЗИ) --- */
        .snowflake {
            position: absolute;
            top: -50px;
            pointer-events: none;
            z-index: 5;
            opacity: 0.9;
            color: #fff; /* Белый цвет снега */
            animation: fall linear forwards;
            line-height: 1; /* Чтобы высота строки не мешала */
        }

        @keyframes fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.9;
            }
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0.2;
            }
        }

        /* --- 5. ОКНО ЗАГРУЗКИ --- */
        .loading-box {
            background-color: transparent; 
            text-align: left;
        }

        .status-label {
            font-size: 14px;
            color: #ddd;
            margin-bottom: 5px;
            font-family: 'Consolas', monospace;
            text-shadow: 1px 1px 2px #000;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        /* --- 6. ПОЛОСА ЗАГРУЗКИ --- */
        .progress-track {
            width: 100%;
            height: 26px;
            background-color: #0a0a0a;
            border: 1px solid #444;
            padding: 2px;
            box-sizing: border-box;
            margin-bottom: 15px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background-image: linear-gradient(
                90deg, 
                rgb(235, 54, 54) 0px, rgb(235, 54, 54) 8px, 
                transparent 8px, transparent 12px
            );
            background-size: 12px 100%;
            filter: drop-shadow(0 0 3px rgb(235, 54, 54));
            transition: width 0.2s ease-out;
        }

        /* --- 7. ОКНО ФАЙЛОВ --- */
        .file-list-container {
            background-color: #080808;
            border: 2px solid rgb(235, 54, 54);
            border-radius: 0px;
            height: 140px; 
            padding: 10px;
            overflow: hidden;
            font-family: 'Consolas', 'Lucida Console', 'Courier New', monospace;
            font-size: 13px;
            color: #ccc;
            text-align: left;
            box-shadow: 0 0 15px rgba(235, 54, 54, 0.15);
        }

        .file-item {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 4px;
            animation: fadeIn 0.2s;
            border-bottom: 1px solid rgba(255, 0, 0, 0.1); 
            padding-bottom: 2px;
        }

        .tag-addon { color: rgb(235, 54, 54); font-weight: bold; margin-right: 5px; }
        .tag-lua   { color: #ffaa00; font-weight: bold; margin-right: 5px; }
        .tag-file  { color: #4488ff; font-weight: bold; margin-right: 5px; }
        .tag-sys   { color: #888888; font-weight: bold; margin-right: 5px; }
        .filename { color: #aaa; }

        /* --- 8. АВТОРЫ --- */
        .authors-container {
            position: absolute;
            top: 20px;
            width: 100%;
            text-align: center;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            z-index: 20;
            color: #888;
        }

        .rainbow-names {
            font-weight: bold;
            font-size: 16px;
            background: linear-gradient(to right, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #8f00ff, #ff0000);
            background-size: 200% auto;
            color: transparent;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow_move 3s linear infinite;
        }

        @keyframes rainbow_move { to { background-position: 200% center; } }
        @keyframes fadeIn { from { opacity: 0; transform: translateX(-5px); } to { opacity: 1; transform: translateX(0); } }

        /* --- 9. МЫСЛИ --- */
        .bg-thought {
            position: absolute;
            font-family: 'Consolas', monospace;
            color: rgba(255, 255, 255, 0.4);
            font-size: 16px; 
            pointer-events: none;
            z-index: 1;
            opacity: 0;
            animation: floatFade 6s ease-in-out forwards;
            white-space: nowrap;
        }

        @keyframes floatFade {
            0% { opacity: 0; transform: translateY(0); }
            20% { opacity: 0.4; }
            80% { opacity: 0.4; }
            100% { opacity: 0; transform: translateY(-40px); }
        }

    </style>
    
    <script>
        // Глобальные переменные
        var totalFiles = 0;
        var addonCount = 0;
        var luaCount = 0;
        var fileCount = 0;
        
        // === ЛОГИКА СНЕГА (ЭМОДЗИ) ===
        function spawnSnowflake() {
            var snow = document.createElement('div');
            snow.innerHTML = "❄"; // Эмодзи снежинки
            snow.className = 'snowflake';
            
            // Рандомная позиция по ширине
            snow.style.left = Math.random() * 100 + 'vw';
            
            // Рандомный размер шрифта (от 15 до 35px)
            var size = Math.random() * 20 + 15;
            snow.style.fontSize = size + 'px';
            
            // Рандомная скорость падения (от 3 до 8 секунд)
            var duration = Math.random() * 5 + 3;
            snow.style.animationDuration = duration + 's';
            
            document.body.appendChild(snow);
            
            // Удаляем снежинку после падения
            setTimeout(function() {
                snow.remove();
            }, duration * 1000);
        }

        // === ФУНКЦИИ GMOD (HOOKS) ===
        window.SetStatusChanged = function(status) { 
            var statusEl = document.getElementById('status');
            if(statusEl) statusEl.innerText = status;

            // 1. WORKSHOP ADDON
            var workshopMatch = status.match(/'([^']+)'/);
            if (workshopMatch && status.indexOf("LOADING") !== -1) {
                addonCount++;
                var addonName = workshopMatch[1];
                appendLog(`<span class="tag-addon">[ADDON #${addonCount}]</span><span class="filename">${addonName}</span>`);
            } 
            // 2. LUA / SCRIPTS
            else if (status.toLowerCase().indexOf("lua") !== -1 || status.toLowerCase().indexOf("script") !== -1) {
                luaCount++;
                appendLog(`<span class="tag-lua">[LUA #${luaCount}]</span><span class="filename">${status}</span>`);
            }
            // 3. ВСЁ ОСТАЛЬНОЕ
            else {
                if (status && status.trim() !== "") {
                    appendLog(`<span class="tag-sys">[SYS]</span><span class="filename">${status}</span>`);
                }
            }
        };
        
        window.DownloadingFile = function(fileName) { 
            var statusEl = document.getElementById('status');
            if(statusEl) statusEl.innerText = "Downloading: " + fileName; 
            
            fileCount++;
            var cleanName = fileName;
            if (fileName.includes("/")) {
                cleanName = fileName.split('/').pop(); 
            }
            appendLog(`<span class="tag-file">[FILE #${fileCount}]</span><span class="filename">${cleanName}</span>`);
        };
        
        window.SetFilesTotal = function(total) { totalFiles = total; };
        
        window.SetFilesNeeded = function(needed) {
            var bar = document.getElementById('bar');
            if (totalFiles > 0 && bar) {
                var percent = ((totalFiles - needed) / totalFiles) * 100;
                bar.style.width = percent + '%';
            }
        };
        
        window.SetFilesRemaining = function(remaining) { 
            window.SetFilesNeeded(remaining); 
        };

        function appendLog(htmlContent) {
            var fileWindow = document.getElementById('file-window');
            if(!fileWindow) return;

            var div = document.createElement('div');
            div.className = 'file-item';
            div.innerHTML = htmlContent;
            fileWindow.appendChild(div);
            fileWindow.scrollTop = fileWindow.scrollHeight;
            if (fileWindow.children.length > 15) {
                fileWindow.removeChild(fileWindow.children[0]);
            }
        }

        // --- МЫСЛИ ---
        const thoughtTexts = [
            "Break your neck",
            "George Floyd Wiki",
            "Sadsalat gay porn, watch online",
            "中国(小黄人叶)",
            "Rubby4",
            "Wagan",
            "Ne bot01",
            "Fuck your mom",
            "Minetik",
            "PDF File",
            "Watch porn with your family!",
            "Nolik huylan",
            "Check out 'sex-studentki.live' site",
            "Папаша на герлянде",
            "Пьяная мамаша под столом",
            "Big huy",
            "I think i need go into my window",
            "Gay porn with your dad",
            "Vekad",
            "Kys"
        ];

        function spawnThought() {
            if (thoughtTexts.length === 0) return;
            var text = thoughtTexts[Math.floor(Math.random() * thoughtTexts.length)];
            var el = document.createElement('div');
            el.className = 'bg-thought';
            el.innerText = text;
            var posX = Math.random() * 80 + 10; 
            var posY = Math.random() * 80 + 10;
            var size = Math.floor(Math.random() * 10) + 16;
            el.style.left = posX + '%';
            el.style.top = posY + '%';
            el.style.fontSize = size + 'px';
            document.body.appendChild(el);
            setTimeout(function() { el.remove(); }, 6000);
        }

        window.onload = function() {
             appendLog(`<span class="tag-sys">[SYS]</span><span class="filename">Loading Interface...</span>`);
             setInterval(spawnThought, 800);
             // Запуск снега
             setInterval(spawnSnowflake, 200);
        }

    </script>
</head>
<body>

    <div class="authors-container">
        Authors: <span class="rainbow-names">Ne bot01, Wagan, Мамка Нолика</span>
    </div>

    <div id="thoughts-wrapper"></div>

    <div class="container">
        <!-- Шапка Санты -->
        <h1 class="title">
            <span class="text-local">Local</span><span class="text-box">-Box<img src="https://static.vecteezy.com/system/resources/previews/032/545/954/non_2x/christmas-santa-claus-red-and-white-hat-isolated-on-transparent-background-png.png" class="santa-hat" alt="Hat"></span>
        </h1>

        <div class="loading-box">
            <div class="status-label" id="status">Connecting...</div>
            
            <div class="progress-track">
                <div class="progress-bar" id="bar"></div>
            </div>

            <div class="file-list-container" id="file-window">
                <!-- Логи -->
            </div>
        </div>
    </div>

</body>
</html>

